package eonark

import (
	"log"
	"os"
	"path"

	"github.com/consensys/gnark-crypto/ecc"
	bls12381 "github.com/consensys/gnark-crypto/ecc/bls12-381"
	"github.com/consensys/gnark-crypto/ecc/bls12-381/fr"
	"github.com/consensys/gnark-crypto/ecc/bls12-381/kzg"
	"github.com/consensys/gnark/std/recursion/plonk"
)

const NUM_PUBLIC = 4
const SRS_SIZE = (1 << 24) + 3
const HASH_T = 2
const HASH_RF = 8
const HASH_RP = 56
const SRS_DOWNLOAD_URL = "https://github.com/eon-protocol/eonark/releases/download/bin/SRS.CK.BIN"

var FIELD = ecc.BLS12_381.ScalarField()
var OPT_PROVER = plonk.GetNativeProverOptions(FIELD, FIELD)
var OPT_VERIFIER = plonk.GetNativeVerifierOptions(FIELD, FIELD)
var COSET_SHIFT = fr.NewElement(7)
var DATA_CACHE_DIR = func() (dir string) {
	var err error
	if dir, err = os.UserCacheDir(); err != nil {
		log.Fatalln(err)
	}
	dir = path.Join(dir, "eonark")
	if err = os.MkdirAll(dir, os.ModePerm); err != nil {
		log.Fatalln(err)
	}
	return
}()
var CID_GAMMA = func() (val fr.Element) {
	val.SetString("12136437972164249638515815863518169381248623050802518443499856540155713785793")
	return
}()
var CID_BETA = func() (val fr.Element) {
	val.SetString("18573803297957083279407999548582433273399322018814582391185078724486099338357")
	return
}()
var CID_ALPHA = func() (val fr.Element) {
	val.SetString("49747578351961873600101888628702675272467029400415710410441263855875020310598")
	return
}()
var CID_ZETA = func() (val fr.Element) {
	val.SetString("39057712567180736910604556313519348712189848041390074835666431785905701131882")
	return
}()
var PREFIX_BSB = func() (val fr.Element) {
	val.SetString("25462560578134928990029001067183171577145376707459712415971543462128145703592")
	return
}()
var SRS_VK = func() (vk kzg.VerifyingKey) {
	vk.G1.X.SetString("3685416753713387016781088315183077757961620795782546409894578378688607592378376318836054947676345821548104185464507")
	vk.G1.Y.SetString("1339506544944476473020471379941921221584933875938349620426543736416511423956333506472724655353366534992391756441569")
	vk.G2[0].X.A0.SetString("352701069587466618187139116011060144890029952792775240219908644239793785735715026873347600343865175952761926303160")
	vk.G2[0].X.A1.SetString("3059144344244213709971259814753781636986470325476647558659373206291635324768958432433509563104347017837885763365758")
	vk.G2[0].Y.A0.SetString("1985150602287291935568054521177171638300868978215655730859378665066344726373823718423869104263333984641494340347905")
	vk.G2[0].Y.A1.SetString("927553665492332455747201965776037880757740193453592970025027978793976877002675564980949289727957565575433344219582")
	vk.G2[1].X.A0.SetString("776039459276369179693992585818194139540499756819017187815791269348031350063632235207027319036718196631944428392513")
	vk.G2[1].X.A1.SetString("2674297050551758451353209472614840342169085985058099102572141487518510112145375620594693554916581360246367877313953")
	vk.G2[1].Y.A0.SetString("663064040629077280188424118781578859370733647319941100652830036852591827499269058651033198749550173390386414847005")
	vk.G2[1].Y.A1.SetString("3936669228288503147853508223024305507943713982562105506930304314918938943782136458859601448048854160686462272581222")
	vk.Lines[0] = bls12381.PrecomputeLines(vk.G2[0])
	vk.Lines[1] = bls12381.PrecomputeLines(vk.G2[1])
	return
}()
var SRS_CK_HASH = "01c865c7a3e27cee83756164110f127420fcba42ffdc8b5966000ffc7dbb17bf"
var SRS_LK_HASH = []string{
	"b1fbe330769a11acc36fc723335b0220323273e006f2b6fdb9db39ea82e7c183",
	"0f5ebc416a150e367ade9f5272492625221884dae468e8e10239bbb734deeb14",
	"41f7d9ad9fdcff4b88a54a34b44df46eece79f6a4d0b69ed03c975c1f7597f21",
	"f64cfb63cd29f676e6d63499b63525981637b98fd229674d3d92923de28c8444",
	"9e4acf1ac7d45dd2c9bf0dd1355905c80cb5d92629affe57f7c2f78d608b528a",
	"9b5ec10e85b77990c870bb490b4e1d03207b6ef9e37c214bef9bf21ebb2b747f",
	"7c169287a77716b7b4c35a3aadbb62cd3624156ce915770b01d3d34f0bb53d67",
	"7411796daf2fc375d387ff19aa35a23fb6f6115029a6e3721e21877ba376aa5e",
	"e608f93a0772c596e41d031600fd6949eb30cf17af47ed3c9743facf4051307f",
	"c509bec742e486a66e0a0f0313476074332e3659b21fe6a0c8a9e4b107d968d5",
	"70a9ec8b7b7dd2620a176cb11fa222b9ccc13a212eeb1aa88195b158cf51cdb7",
	"b2a324791af3931456dd0d0bdfb6588f9e193204237c6b17ec8b265cdcc59176",
	"247bee5773b8b79d6dafa630939935484c446b09a74bd8e34972d0c1deee928b",
	"d141afa2175055dde1ed288daf1b1f1fa766f95325e9851c84e77601b6d45eba",
	"8a0610c650303d0ef0e25319bc3129efaa42e514afa12afdc0b1e10b343bd9a9",
	"7569c09a3a95a60469b6b6d5d8a1a50b8e4378830bde35af0c2b12ac098a0e32",
	"adc2bd4b48b2d5bc24b6885dd755dfcb4ff72fd978fb050ef5f84efb307740f2",
	"855cf44ca2e15023fdb5baf65a91b223ffc37360e3da3850db75c63213c024b4",
	"7e0ed56fad7575f95491827c2fb78cf8700370f06f8105c8b43fabdd4ae58613",
	"8429adb537d363c89e4015ecbbe985884408d99d9cbf06a192de40f522d94d35",
	"80bc3239909a2a06821f4130b66889f27ec65caea01ec3d49de199d889a715d5",
	"c0de7ab1f04c8a37caca1ff6e43a91aae69c6f034cd3cd0c14c37c55f6699aef",
	"82ddee5d2c7a47eb69eb1e92c40d3bf5ece1a4c057fdcac019aacc553d5f5c96",
	"1a0c47192fcfdc13046c089c56bf7b13b3b21fa8b96e44be2dbc3826fbc77f8b",
	"b7103ce4d662c079616875bc1c30be01a62f2da8e7a8a5e95a73ec605ff61225",
}
