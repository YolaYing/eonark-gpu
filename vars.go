package eonark

import (
	"log"
	"os"
	"path"

	"github.com/consensys/gnark-crypto/ecc"
	bls12381 "github.com/consensys/gnark-crypto/ecc/bls12-381"
	"github.com/consensys/gnark-crypto/ecc/bls12-381/fr"
	"github.com/consensys/gnark-crypto/ecc/bls12-381/kzg"
	"github.com/consensys/gnark/std/recursion/plonk"
)

const NUM_PUBLIC = 4
const SRS_SIZE = (1 << 24) + 3
const HASH_T = 2
const HASH_RF = 8
const HASH_RP = 56
const SRS_DOWNLOAD_URL = "https://github.com/eon-protocol/eonark/releases/download/bin/SRS.CK.BIN"

var FIELD = ecc.BLS12_381.ScalarField()
var OPT_PROVER = plonk.GetNativeProverOptions(FIELD, FIELD)
var OPT_VERIFIER = plonk.GetNativeVerifierOptions(FIELD, FIELD)
var COSET_SHIFT = fr.NewElement(7)
var DATA_CACHE_DIR = func() (dir string) {
	var err error
	if dir, err = os.UserCacheDir(); err != nil {
		log.Fatalln(err)
	}
	dir = path.Join(dir, "eonark")
	if err = os.MkdirAll(dir, os.ModePerm); err != nil {
		log.Fatalln(err)
	}
	return
}()
var CID_GAMMA = func() (val fr.Element) {
	val.SetString("12136437972164249638515815863518169381248623050802518443499856540155713785793")
	return
}()
var CID_BETA = func() (val fr.Element) {
	val.SetString("18573803297957083279407999548582433273399322018814582391185078724486099338357")
	return
}()
var CID_ALPHA = func() (val fr.Element) {
	val.SetString("49747578351961873600101888628702675272467029400415710410441263855875020310598")
	return
}()
var CID_ZETA = func() (val fr.Element) {
	val.SetString("39057712567180736910604556313519348712189848041390074835666431785905701131882")
	return
}()
var PREFIX_BSB = func() (val fr.Element) {
	val.SetString("25462560578134928990029001067183171577145376707459712415971543462128145703592")
	return
}()
var SRS_VK = func() (vk kzg.VerifyingKey) {
	vk.G1.X.SetString("3685416753713387016781088315183077757961620795782546409894578378688607592378376318836054947676345821548104185464507")
	vk.G1.Y.SetString("1339506544944476473020471379941921221584933875938349620426543736416511423956333506472724655353366534992391756441569")
	vk.G2[0].X.A0.SetString("352701069587466618187139116011060144890029952792775240219908644239793785735715026873347600343865175952761926303160")
	vk.G2[0].X.A1.SetString("3059144344244213709971259814753781636986470325476647558659373206291635324768958432433509563104347017837885763365758")
	vk.G2[0].Y.A0.SetString("1985150602287291935568054521177171638300868978215655730859378665066344726373823718423869104263333984641494340347905")
	vk.G2[0].Y.A1.SetString("927553665492332455747201965776037880757740193453592970025027978793976877002675564980949289727957565575433344219582")
	vk.G2[1].X.A0.SetString("1939756526208867352086581985092259624829560010061306946585226346738093618069550286301438872768332930363276949638822")
	vk.G2[1].X.A1.SetString("2318995935866111359398958153454908948874651522699460441907096061337277504529774728315244476266167934703679355177067")
	vk.G2[1].Y.A0.SetString("3763650056206254600274663832333968607138760532847352488799064637331044057700568078448854199727450642312274420943333")
	vk.G2[1].Y.A1.SetString("2502739260245548139775373134234367280850810789689608059153322873620103284839940875145107753740863378028849491778780")
	vk.Lines[0] = bls12381.PrecomputeLines(vk.G2[0])
	vk.Lines[1] = bls12381.PrecomputeLines(vk.G2[1])
	return
}()
var SRS_CK_HASH = "9e0bbda56331be3dd4342c123518dc876898068047a30bb9b34f0c199f365049"
var SRS_LK_HASH = []string{
	"ce04c320a873fe535caec3f8082f57c33cff6ca2012fe84667d1424351f3d12e",
	"572cd55167233da429432edf01103ae633b17d1b7817597d45efb11f9ee17d72",
	"11c4bb73c072769ad60947e8137f958bcc6e5dd0b13327bebd2a9d9acecb72a1",
	"44022d1fd56aa9ee34effc7036b5142b3e14dba7db78ab5720a959d1c2e9cd0f",
	"f3e7bad8b8811c8828c911328ccf8a5721ed6656cb10da5dddb9f959788d4622",
	"97eec8b973855654a43dfc6086331652f5e032f03d30094f741dfca45c44cb8e",
	"31675f96198f08906630b83fd7798bd19543ec40930d559273feab5ae1b9413f",
	"b472723ce930c700bc8431329b213ae84705653e50138d328984bf63f3c708c7",
	"ebd3437825d174ea3e2479b9b133e79945bf1239c926137dda0affbafe5fa8dd",
	"3cc29b9578a5bff42cdbe2d53e5664f01bbfe9dc905264d1a4a1c69d57e72d65",
	"4edface1def21228d725628a13404a21da91954e09d8bea8d4dc26a1b6b33dbc",
	"58ecbc013c93b698b637f625f5fc1b7c2470623c716fa43bbd7d8766e405334c",
	"e5e862b82b4003124baaec31ce6854dea0f2f8fc209d921c4a837b8b4fdc4fb2",
	"94926b30804ccf229a4aed53e5e0adfc4fb38f74b221bd2600e791d39d665148",
	"14ebf2d83e74c53cc7247abb2c389e537afdb56dcd1116bfcef4ee04d5f53ea3",
	"63ccf7ccf79cf3b7a49a0de04fb9e094d926775324a1ff1039a45f91dd84af2c",
	"6a59062c73fa57c63b3e22231ffef57c768fa9b178c749020525a7a1fcb2225f",
	"e5b9044a981c24ff07a938bb0942766978dd28167b7e38246fdc108481d541a4",
	"c1447cfb226df90d929745f2f79b86766001b3b8d7ea53e5698494fe8aa98a8a",
	"4910250929b6cabbaa55c1b1dc50ad3b695acb1942e96eb4cd8abc74cdd3c1a6",
	"5c2d17655bb3b3823a7436dc9b8da2660455767f2cf9cac1cc20ed5d9d038eb5",
	"33b5fb5cff47d415238a9064d8e4fa395798519929db5c84dd20f7dfb88ae66a",
	"505d84394c7bc938ff6035e69e7f368bede209c2b4cf739d6bbc85b27aac6121",
	"71d9e0c811abe6b79b3812cf1e4268aea71a9abd963d5814e7564ee6a8a368a3",
}
