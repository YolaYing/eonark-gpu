package eonark

import (
	"log"
	"os"
	"path"

	"github.com/consensys/gnark-crypto/ecc"
	bls12381 "github.com/consensys/gnark-crypto/ecc/bls12-381"
	"github.com/consensys/gnark-crypto/ecc/bls12-381/fr"
	"github.com/consensys/gnark-crypto/ecc/bls12-381/kzg"
	"github.com/consensys/gnark/std/recursion/plonk"
)

const NUM_PUBLIC = 4
const SRS_SIZE = (1 << 24) + 3
const HASH_T = 2
const HASH_RF = 8
const HASH_RP = 56
const SRS_DOWNLOAD_URL = "https://github.com/eon-protocol/eonark/releases/download/bin/SRS.CK.BIN"

var FIELD = ecc.BLS12_381.ScalarField()
var OPT_PROVER = plonk.GetNativeProverOptions(FIELD, FIELD)
var OPT_VERIFIER = plonk.GetNativeVerifierOptions(FIELD, FIELD)
var COSET_SHIFT = fr.NewElement(7)
var DATA_CACHE_DIR = func() (dir string) {
	var err error
	if dir, err = os.UserCacheDir(); err != nil {
		log.Fatalln(err)
	}
	dir = path.Join(dir, "eonark")
	if err = os.MkdirAll(dir, os.ModePerm); err != nil {
		log.Fatalln(err)
	}
	return
}()
var CID_GAMMA = func() (val fr.Element) {
	val.SetString("12136437972164249638515815863518169381248623050802518443499856540155713785793")
	return
}()
var CID_BETA = func() (val fr.Element) {
	val.SetString("18573803297957083279407999548582433273399322018814582391185078724486099338357")
	return
}()
var CID_ALPHA = func() (val fr.Element) {
	val.SetString("49747578351961873600101888628702675272467029400415710410441263855875020310598")
	return
}()
var CID_ZETA = func() (val fr.Element) {
	val.SetString("39057712567180736910604556313519348712189848041390074835666431785905701131882")
	return
}()
var PREFIX_BSB = func() (val fr.Element) {
	val.SetString("25462560578134928990029001067183171577145376707459712415971543462128145703592")
	return
}()
var SRS_VK = func() (vk kzg.VerifyingKey) {
	vk.G1.X.SetString("3685416753713387016781088315183077757961620795782546409894578378688607592378376318836054947676345821548104185464507")
	vk.G1.Y.SetString("1339506544944476473020471379941921221584933875938349620426543736416511423956333506472724655353366534992391756441569")
	vk.G2[0].X.A0.SetString("352701069587466618187139116011060144890029952792775240219908644239793785735715026873347600343865175952761926303160")
	vk.G2[0].X.A1.SetString("3059144344244213709971259814753781636986470325476647558659373206291635324768958432433509563104347017837885763365758")
	vk.G2[0].Y.A0.SetString("1985150602287291935568054521177171638300868978215655730859378665066344726373823718423869104263333984641494340347905")
	vk.G2[0].Y.A1.SetString("927553665492332455747201965776037880757740193453592970025027978793976877002675564980949289727957565575433344219582")
	vk.G2[1].X.A0.SetString("1939756526208867352086581985092259624829560010061306946585226346738093618069550286301438872768332930363276949638822")
	vk.G2[1].X.A1.SetString("2318995935866111359398958153454908948874651522699460441907096061337277504529774728315244476266167934703679355177067")
	vk.G2[1].Y.A0.SetString("3763650056206254600274663832333968607138760532847352488799064637331044057700568078448854199727450642312274420943333")
	vk.G2[1].Y.A1.SetString("2502739260245548139775373134234367280850810789689608059153322873620103284839940875145107753740863378028849491778780")
	vk.Lines[0] = bls12381.PrecomputeLines(vk.G2[0])
	vk.Lines[1] = bls12381.PrecomputeLines(vk.G2[1])
	return
}()
var SRS_CK_HASH = "1c33783ee0f167b6def007928cfbe046bcd76242eecd59df7d3f5241e3b50b22"
var SRS_LK_HASH = []string{
	"6672c70f403f1209e7e24133ac01cac5054fa8c85da1588c34e325a9627fe9a1",
	"c20b2c38c57eef581229d51bf78c4e5dbd0e7d55700f3baf2eb4907be6a73c9d",
	"7311df4a5751e05e85fa6726d0463b659f1248292839f2fc11db8e9da7980e51",
	"d025ddf8b8d22c850ab3b744c7698eed5919bc1be53520f51f2c4f87d038e338",
	"608871f5f2fc27a2ee0f230f7311cb4f9377da27df505fb69e1f8ebfa44a6846",
	"21a14f73fbaa03e9390e5894d2698c52e301f4daacd27f380b9afd84c213aaf5",
	"236f1deb7f2c5e2b465c9e4d8cf8bcb467f3956bc43a456f558e1314f9d2688c",
	"bff649be2273aa576feb838f9b9a975aed055976760a982e3ed87b2e6b8e704b",
	"3b85a81e41330bb1ac7148fad29f1ffcb34f3993ba01c4b03b874af4eaad21b5",
	"6584f88f12e93f2558077967ab2d8ca536b34e5845ea2e87ec3dbe508fc152fe",
	"1f4a44ae2f8f25af7f353d6f982fb80f1d3b4e7368e1a326f7918de4891b68dc",
	"3c60414f8989b7758b4794eadf4ff332d5467fcfd0a98c0c0858374e41567579",
	"f654a976ae7a4b7fcc03b6ea8003b788088f10291ab88322d5b16cdc81e99636",
	"21cf7f5f1c7c4a755070324fb05b41e96a3e2acc294a8db0f5f7b69e95488221",
	"dcf7821dfea7f4c786ab803dafcd98e1cd33917e39f37886a1da4e34ad5cf515",
	"47e224570dd47e2e753e4122deeeb52300e2660f86e8a3ec05e0c45b7eb40b97",
	"1ba7e43cf9fc7d7875f3014466f4f2a80962140d1df7a24af1386711c0f666a4",
	"1c86214a4e1149c6fb07aae5cd00b8014c997b25c62ea6ae28c627ebe5188973",
	"d85a1050311660b2e50e1d7ea53f38ad972415d1553440682c0aaca554d09a8e",
	"032fc42b28178c57fb349a4b2b3b99ec9381dcc316c6ba344dc835ff348ceee2",
	"cb7fe6f5fce13109cd415284f8463f328ba87b472929ec698e4e4abcacc0b053",
	"fb430376ceb1126f4022feb15b12a77dead9ca82cf1bf099def241cbd2173fe0",
	"abe05df34cf9a31cabcd01fbdc3769f1d866664c2711b5fc3c05161ed44e0066",
	"72c55cf432c82b8c48257231277ac8a4c62a52e8fd8800a170daa1004e30f9e1",
	"1ae3fa8d035a86975dc029db25bd1a43c7d9ddc52830a7bfc391beac4446f396",
}
