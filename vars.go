package eonark

import (
	"log"
	"os"
	"path"

	"github.com/consensys/gnark-crypto/ecc"
	bls12381 "github.com/consensys/gnark-crypto/ecc/bls12-381"
	"github.com/consensys/gnark-crypto/ecc/bls12-381/fr"
	"github.com/consensys/gnark-crypto/ecc/bls12-381/kzg"
	"github.com/consensys/gnark/std/recursion/plonk"
)

const NUM_PUBLIC = 4
const SRS_SIZE = (1 << 24) + 3
const HASH_T = 2
const HASH_RF = 8
const HASH_RP = 56
const SRS_DOWNLOAD_URL = "https://github.com/eon-protocol/eonark/releases/download/bin/SRS.CK.BIN"

var FIELD = ecc.BLS12_381.ScalarField()
var OPT_PROVER = plonk.GetNativeProverOptions(FIELD, FIELD)
var OPT_VERIFIER = plonk.GetNativeVerifierOptions(FIELD, FIELD)
var COSET_SHIFT = fr.NewElement(7)
var DATA_CACHE_DIR = func() (dir string) {
	var err error
	if dir, err = os.UserCacheDir(); err != nil {
		log.Fatalln(err)
	}
	dir = path.Join(dir, "eonark")
	if err = os.MkdirAll(dir, os.ModePerm); err != nil {
		log.Fatalln(err)
	}
	return
}()
var CID_GAMMA = func() (val fr.Element) {
	val.SetString("12136437972164249638515815863518169381248623050802518443499856540155713785793")
	return
}()
var CID_BETA = func() (val fr.Element) {
	val.SetString("18573803297957083279407999548582433273399322018814582391185078724486099338357")
	return
}()
var CID_ALPHA = func() (val fr.Element) {
	val.SetString("49747578351961873600101888628702675272467029400415710410441263855875020310598")
	return
}()
var CID_ZETA = func() (val fr.Element) {
	val.SetString("39057712567180736910604556313519348712189848041390074835666431785905701131882")
	return
}()
var PREFIX_BSB = func() (val fr.Element) {
	val.SetString("25462560578134928990029001067183171577145376707459712415971543462128145703592")
	return
}()
var SRS_VK = func() (vk kzg.VerifyingKey) {
	vk.G1.X.SetString("3685416753713387016781088315183077757961620795782546409894578378688607592378376318836054947676345821548104185464507")
	vk.G1.Y.SetString("1339506544944476473020471379941921221584933875938349620426543736416511423956333506472724655353366534992391756441569")
	vk.G2[0].X.A0.SetString("352701069587466618187139116011060144890029952792775240219908644239793785735715026873347600343865175952761926303160")
	vk.G2[0].X.A1.SetString("3059144344244213709971259814753781636986470325476647558659373206291635324768958432433509563104347017837885763365758")
	vk.G2[0].Y.A0.SetString("1985150602287291935568054521177171638300868978215655730859378665066344726373823718423869104263333984641494340347905")
	vk.G2[0].Y.A1.SetString("927553665492332455747201965776037880757740193453592970025027978793976877002675564980949289727957565575433344219582")
	vk.G2[1].X.A0.SetString("1939756526208867352086581985092259624829560010061306946585226346738093618069550286301438872768332930363276949638822")
	vk.G2[1].X.A1.SetString("2318995935866111359398958153454908948874651522699460441907096061337277504529774728315244476266167934703679355177067")
	vk.G2[1].Y.A0.SetString("3763650056206254600274663832333968607138760532847352488799064637331044057700568078448854199727450642312274420943333")
	vk.G2[1].Y.A1.SetString("2502739260245548139775373134234367280850810789689608059153322873620103284839940875145107753740863378028849491778780")
	vk.Lines[0] = bls12381.PrecomputeLines(vk.G2[0])
	vk.Lines[1] = bls12381.PrecomputeLines(vk.G2[1])
	return
}()
var SRS_CK_HASH = "1c33783ee0f167b6def007928cfbe046bcd76242eecd59df7d3f5241e3b50b22"
var SRS_LK_HASH = []string{
	"b1fbe330769a11acc36fc723335b0220323273e006f2b6fdb9db39ea82e7c183",
	"f16a84186e1b98458b4cdf1d5ca116e72b5a584e583cc3a77f76af3418d542e5",
	"34218a217ee72666df582decbc2098b2717550fe582b41baef79f345b34c63ec",
	"1409c36c038b4bd5a2109729af26653e663466b713cc00de38eebb0e9dbde34a",
	"f2f628fa9d45ce1e2919d4fb1100a331bf04d6d289d51a21726434b73305ef69",
	"a6ccf81d3fecdb13e00539c051f1fc01d4e2c18a71d2be7bf7332cd8389400c0",
	"24699bc0633fa8cccd42a6a8b25ab4584d1941e7c0a798673bdb57b6b56b0ac6",
	"4c566febd61e3e16971de0e9fa0453eec754babf1e7406f8adffbfacd45ffae2",
	"059083f18886608345438a27f1056877aca8de7858e118dec4cf48f8d418db77",
	"732aac6947fb58eec593414bd111b7ace42deba9099dfb3aa211063dc87d53a9",
	"76aaecbd86e7711fa8d790a59f2ef19ce89f7ca50329b989cf4e7af3fabbde35",
	"fc795b1edccedcd8102b0bd4cfc23eb9cf25fa764ca92f937d3faa159eac85ad",
	"3cb91e9c98cd9321efbeb1f280c7c50477e14f1008609d1fa48f87a4224371c5",
	"aa0f23918bb8b23609133376f50f2b828634f1871c84683098313f8001cd1d9a",
	"ae081189c0d705def32022385284db4bdfa7de0555eac986d35492502cbea91b",
	"e2c5812b4440256f5cd45c54e023467642452a8e6b38e4106e16f8e9bd571789",
	"6acc4455c0f6f2338af5048f79a3247219f5278cde0ccad2d261cb84ada7f9bc",
	"4ae8d8099877454056baf7ffb7d0985c76e5feb00e5b2a4948c93a692c7c12d2",
	"bc017906a6325424aa85d8db57dd8b40d8654bb15bc4eaefc45db0e9a7aa8aab",
	"afff2195ad91398f82d32b0ed2c4c5f6b34ec5591650078ea1f1c97ed2a7e190",
	"cb7fe6f5fce13109cd415284f8463f328ba87b472929ec698e4e4abcacc0b053",
	"fb430376ceb1126f4022feb15b12a77dead9ca82cf1bf099def241cbd2173fe0",
	"abe05df34cf9a31cabcd01fbdc3769f1d866664c2711b5fc3c05161ed44e0066",
	"72c55cf432c82b8c48257231277ac8a4c62a52e8fd8800a170daa1004e30f9e1",
	"1ae3fa8d035a86975dc029db25bd1a43c7d9ddc52830a7bfc391beac4446f396",
}
