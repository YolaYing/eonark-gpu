# ICICLE
export ICICLE_LIB="$HOME/.local/icicle/lib"
export LD_LIBRARY_PATH="$ICICLE_LIB${LD_LIBRARY_PATH:+:$LD_LIBRARY_PATH}"
export CGO_LDFLAGS="-L$ICICLE_LIB -Wl,-rpath,$ICICLE_LIB ${CGO_LDFLAGS}"
export LIBRARY_PATH="$ICICLE_LIB${LIBRARY_PATH:+:$LIBRARY_PATH}"
export ICICLE_BACKEND_INSTALL_DIR="$HOME/.local/icicle/lib/backend"
export ICICLE_BACKEND=cuda

# CUDA 12.8
export CUDA_HOME="/usr/local/cuda-12.8"
export PATH="$CUDA_HOME/bin:$PATH"
export LD_LIBRARY_PATH="$CUDA_HOME/lib64:$CUDA_HOME/extras/CUPTI/lib64:$LD_LIBRARY_PATH"

# Nsight Systems
export NSYS_HOME="$HOME/.local/opt/nsight-systems"
export NSYS_ROOT="$NSYS_HOME/opt/nvidia/nsight-systems"
if verdir="$(ls -d "$NSYS_ROOT"/* 2>/dev/null | head -n1)"; then
  export PATH="$verdir/bin:$verdir/target-linux-x64:$verdir/host-linux-x64:$PATH"
  export LD_LIBRARY_PATH="$verdir/host-linux-x64:$LD_LIBRARY_PATH"
fi
